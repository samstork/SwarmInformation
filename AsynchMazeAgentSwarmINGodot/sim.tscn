[gd_scene load_steps=7 format=3 uid="uid://dd6dqpje7st8a"]

[ext_resource type="Script" uid="uid://bi37urw04ikto" path="res://sim_control.gd" id="1_5txf0"]
[ext_resource type="PackedScene" uid="uid://cew5sc3l33wxr" path="res://swarm_agent.tscn" id="1_q06l5"]
[ext_resource type="PackedScene" uid="uid://duig2w80t2k7q" path="res://goal_agent.tscn" id="3_peo6w"]
[ext_resource type="PackedScene" uid="uid://cr2gqwldrdg00" path="res://agent_spawner.tscn" id="4_peo6w"]

[sub_resource type="WorldBoundaryShape2D" id="WorldBoundaryShape2D_6qe4r"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_q06l5"]

[node name="Sim" type="Node2D"]
script = ExtResource("1_5txf0")

[node name="Maze" type="Node2D" parent="."]

[node name="WorldBounds" type="Node2D" parent="Maze"]

[node name="BoundaryLeft" type="StaticBody2D" parent="Maze/WorldBounds"]
position = Vector2(0, 151)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/WorldBounds/BoundaryLeft"]
rotation = 1.5707964
shape = SubResource("WorldBoundaryShape2D_6qe4r")

[node name="BoundaryRight" type="StaticBody2D" parent="Maze/WorldBounds"]
position = Vector2(574, 167)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/WorldBounds/BoundaryRight"]
rotation = -1.5707964
shape = SubResource("WorldBoundaryShape2D_6qe4r")

[node name="BoundaryDown" type="StaticBody2D" parent="Maze/WorldBounds"]
position = Vector2(289, 328)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/WorldBounds/BoundaryDown"]
shape = SubResource("WorldBoundaryShape2D_6qe4r")

[node name="BoundaryUp" type="StaticBody2D" parent="Maze/WorldBounds"]
position = Vector2(288, 4)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/WorldBounds/BoundaryUp"]
rotation = 3.1415927
shape = SubResource("WorldBoundaryShape2D_6qe4r")

[node name="Obstacles" type="Node2D" parent="Maze"]

[node name="Wall1" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(167, 349.00003)
scale = Vector2(1, 15)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall1"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall1"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -6.3586693, 10, -10)

[node name="Wall7" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(79, 211)
scale = Vector2(1, 4.7999997)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall7"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall7"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -6.3586693, 10, -10)

[node name="Wall10" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(154, 77)
scale = Vector2(1, 2.6799998)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall10"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall10"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -6.3586693, 10, -10)

[node name="Wall2" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(265, 113.00001)
scale = Vector2(1, 15)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall2"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall2"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Wall9" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(361, 399)
scale = Vector2(1, 15)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall9"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall9"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Wall3" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(456, 110)
scale = Vector2(1, 15)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall3"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall3"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Wall4" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(214.00002, 107)
rotation = -1.5708284
scale = Vector2(1, 14.384285)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall4"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall4"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Wall5" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(445, 189)
rotation = -1.5708284
scale = Vector2(1, 8.944289)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall5"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall5"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Wall8" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(601, 86)
rotation = -1.5708284
scale = Vector2(1, 8.944289)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall8"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall8"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Wall6" type="StaticBody2D" parent="Maze/Obstacles"]
position = Vector2(9, 163)
rotation = -1.5708284
scale = Vector2(1, 8.944289)

[node name="CollisionShape2D" type="CollisionShape2D" parent="Maze/Obstacles/Wall6"]
rotation = 3.1415927
shape = SubResource("RectangleShape2D_q06l5")

[node name="Polygon2D" type="Polygon2D" parent="Maze/Obstacles/Wall6"]
polygon = PackedVector2Array(-10, -10, -10, 10, 10, 10, 10, -10)

[node name="Camera2D" type="Camera2D" parent="."]
position = Vector2(287, 165)
zoom = Vector2(2, 2)

[node name="StartingBeacon" parent="." instance=ExtResource("1_q06l5")]
position = Vector2(355.00003, 29.000015)
rotation = -2.678275
scale = Vector2(0.9999935, 0.9999935)
velocity = Vector2(134.07463, -268.37067)
starting_state = 1

[node name="Node" type="Node" parent="."]

[node name="GoalAgent" parent="." instance=ExtResource("3_peo6w")]
position = Vector2(210, 68)

[node name="AgentSpawner" parent="." instance=ExtResource("4_peo6w")]
position = Vector2(355, 29)
scene_to_spawn = ExtResource("1_q06l5")
target_count = 50
container = NodePath("../Node")
spawn_radius = 0.15
